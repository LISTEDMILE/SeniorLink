{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/alumni_projects.css' %}?v=4">

<div class="tech-bg"></div>

<section class="projects-page">

  <header class="projects-header">
    <h1>Available Projects</h1>
    <p>Collaborate, mentor, and build something impactful</p>
  </header>

  <div class="projects-grid">
    {% for project in projects %}
      <article class="project-card">

        <div class="project-head">
          <h3>{{ project.title }}</h3>
          <span class="status {{ project.status }}">{{ project.get_status_display }}</span>
        </div>

        {% if project.short_description %}
          <p class="project-tagline">{{ project.short_description }}</p>
        {% endif %}

        <div class="project-meta">
          <span>ğŸ‘¤ {{ project.faculty.username }}</span>
          <span>ğŸ“Œ {{ project.get_domain_display }}</span>
          <span>âš¡ {{ project.get_difficulty_level_display }}</span>
        </div>

        {% if project.technologies %}
          <div class="project-tech">
            {{ project.technologies }}
          </div>
        {% endif %}

        <div class="project-stats">
          <span>ğŸ‘¨â€ğŸ“ {{ project.students.count }}/{{ project.max_students }}</span>
          <span>ğŸ‘¨â€ğŸ« {{ project.alumni.count }} mentors</span>
        </div>

        <div class="project-actions">
          {% if user in project.alumni.all %}
            <span class="joined">âœ“ Youâ€™re mentoring</span>
          {% else %}
            {% if project.is_public and project.status != 'completed' %}
              <a href="{% url 'join_project_as_alumni' project.id %}" class="join-btn">
                Join as Mentor
              </a>
            {% else %}
              <span class="closed">Closed</span>
            {% endif %}
          {% endif %}
        </div>

      </article>
    {% empty %}
      <p class="empty">No projects available right now.</p>
    {% endfor %}
  </div>

</section>

{% endblock %}
