{% extends 'base.html' %}

{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/faculty.css' %}">

<a href="{% url 'create_project' %}">➕ Create New Project</a>
<h2>My Projects</h2>

{% for project in projects %}
  <div style="border:1px solid #ccc; padding:15px; margin:15px;">

    <!-- Title & Status -->
    <h3>
      {{ project.title }}
      <small>({{ project.get_status_display }})</small>
    </h3>

    <!-- Descriptions -->
    <p><strong>Short:</strong> {{ project.short_description }}</p>
    <p>{{ project.description }}</p>

    <!-- Metadata -->
    <p>
      <strong>Domain:</strong> {{ project.get_domain_display }} |
      <strong>Difficulty:</strong> {{ project.get_difficulty_level_display }}
    </p>

    <p>
      <strong>Technologies:</strong> {{ project.technologies }}
    </p>

    <!-- Timeline -->
    <p>
      <strong>Start:</strong> {{ project.start_date }}
      {% if project.end_date %}
        | <strong>End:</strong> {{ project.end_date }}
      {% endif %}
    </p>

    <!-- Capacity -->
    <p>
      <strong>Students:</strong>
      {{ project.students.count }} / {{ project.max_students }}
    </p>

    <!-- Links -->
    {% if project.github_link %}
      <p><a href="{{ project.github_link }}" target="_blank">GitHub Repo</a></p>
    {% endif %}
    {% if project.documentation_link %}
      <p><a href="{{ project.documentation_link }}" target="_blank">Documentation</a></p>
    {% endif %}

    <hr>

    <!-- Students -->
    <h4>Students</h4>
    <ul>
      {% for student in project.students.all %}
        <li>{{ student.username }}</li>
      {% empty %}
        <li>No students joined yet</li>
      {% endfor %}
    </ul>

    <!-- Alumni -->
    <h4>Alumni Mentors</h4>
    <ul>
      {% for alum in project.alumni.all %}
        <li>{{ alum.username }}</li>
      {% empty %}
        <li>No alumni mentors yet</li>
      {% endfor %}
    </ul>

  </div>
{% empty %}
  <p>You haven’t created any projects yet.</p>
{% endfor %}

{% endblock %}
